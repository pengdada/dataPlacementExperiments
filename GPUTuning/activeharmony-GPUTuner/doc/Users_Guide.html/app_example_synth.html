<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Active Harmony User&#39;s Guide: Synth: A Synthetic Function Test Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Active Harmony User&#39;s Guide
   &#160;<span id="projectnumber">4.6.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('app_example_synth.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Synth: A Synthetic Function Test Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Introduction </h1>
<p>This example application is designed to test and compare search strategies. It uses purely mathematical multi-variate continuous functions to simulate empirical test results. It requires two parameters: the name of a test function, and the number of tuning variables to use as input for the test function.</p>
<p>The underlying function can be modified several ways.</p>
<ul>
<li><b>Input Accuracy</b> This truncates the input values for the underlying function after a certain number of decimal digits. In effect, it alters the resolution of the search strategy by changing the number of valid testing points within the search space. A higher accuracy term results in a more refined mesh. This can be used to test a search strategy's sensitivity to mesh resolution.</li>
<li><b>Output Quantization</b> This truncates the output of the underlying function after a certain number of decimal digits. In effect, it reduces the continuous nature of the underlying function, where lower quantization values result in a more discrete function. This can be used to test a search strategy's sensitivity to non-continuous functions.</li>
<li><b>Output Perturbation</b> This adds a random non-negative value to the output of the underlying function. The perturbation occurs after quantization, if both are requested. This can be used to test a search strategy's sensitivity to non-deterministic empirical tests.</li>
</ul>
<h1>Building </h1>
<p>This example application only relies on a C compiler. It can be built with the following command: </p><pre class="fragment">$ make all
</pre><h1>Usage </h1>
<div class="fragment"><div class="line">synth [OPTIONS] &lt;fname&gt; &lt;N&gt; [x1..xN] [KEY=VAL ..]</div>
<div class="line"></div>
<div class="line">OPTION SUMMARY</div>
<div class="line">-a, --accuracy=(inf|INT) Allow INT decimal digits of accuracy to the</div>
<div class="line">                          right of the decimal point <span class="keywordflow">for</span> <span class="keyword">function</span> input</div>
<div class="line">                          variables.  If <span class="stringliteral">&#39;inf&#39;</span> is provided instead of an</div>
<div class="line">                          integer, the full accuracy of an IEEE <span class="keywordtype">double</span></div>
<div class="line">                          will be used. [Default: %d]</div>
<div class="line">-l, --list               List available test functions.  Full</div>
<div class="line">                          descriptions will be printed when used with -v.</div>
<div class="line">-h, --help               Display <span class="keyword">this</span> help message.</div>
<div class="line">-i, --iterations=INT     Perform at most INT search loop iterations.</div>
<div class="line">-o, --options=LIST       Pass a comma (,) separated list of real numbers</div>
<div class="line">                          to the test <span class="keyword">function</span> as optional parameters.</div>
<div class="line">-p, --perturb=REAL       Perturb the test <span class="keyword">function</span><span class="stringliteral">&#39;s output by a</span></div>
<div class="line"><span class="stringliteral">                          uniformly random value in the range [0, REAL].</span></div>
<div class="line"><span class="stringliteral">-q, --quantize=INT       Quantize the underlying function by rounding</span></div>
<div class="line"><span class="stringliteral">                          output values after INT decimal digits to the</span></div>
<div class="line"><span class="stringliteral">                          right of the decimal point.</span></div>
<div class="line"><span class="stringliteral">-s, --seed=(time|INT)    Seed the random value generator with the</span></div>
<div class="line"><span class="stringliteral">                          provided INT before perturbing output values.</span></div>
<div class="line"><span class="stringliteral">                          If &#39;</span>time<span class="stringliteral">&#39; is provided instead of an integer,</span></div>
<div class="line"><span class="stringliteral">                          the value will be taken from time(NULL).</span></div>
<div class="line"><span class="stringliteral">                          [Default: time]</span></div>
<div class="line"><span class="stringliteral">-t, --tuna=TYPE          Run as a child of Tuna, where only a single</span></div>
<div class="line"><span class="stringliteral">                          point is tested and the output is used to</span></div>
<div class="line"><span class="stringliteral">                          consume a proportional amount of resources as</span></div>
<div class="line"><span class="stringliteral">                          determined by TYPE:</span></div>
<div class="line"><span class="stringliteral">                            w = Wall time.</span></div>
<div class="line"><span class="stringliteral">                            u = User CPU time.</span></div>
<div class="line"><span class="stringliteral">                            s = System CPU time.</span></div>
<div class="line"><span class="stringliteral">                            o = Print value to stdout. (default)</span></div>
<div class="line"><span class="stringliteral">-v, --verbose            Verbose output.</span></div>
</div><!-- fragment --><h1>Running Mode </h1>
<p>There are two ways to use this application, tuning session mode and single evaluation mode.</p>
<h2>Tuning Session Mode </h2>
<p>By default, this application will launch its own auto-tuning session for the selected underlying function. After a session has been established and joined, it will search the underlying function for optimal points until either the search converges, or the maximum number of iterations has been performed.</p>
<p>Harmony configuration directives can be used to control various aspects of the tuning session, such as search strategy and included processing layers.</p>
<p>Upon completion, the application displays the best point and associated performance value discovered by the search, along with the global optimal performance value, if known.</p>
<h2>Single Evaluation Mode </h2>
<p>If N real values follow, they are considered to be a single point in the search space to test. The function is evaluated once, and the program exits. This mode is designed pair with Tuna. To further pair with Tuna's functionality, this application can be instructed to consume amount of a system resource that Tuna measuring proportional to the underlying function's output..</p>
<h1>Example Invocations </h1>
<p>The following invocation displays a list of supported underlying functions verbosely: </p><pre class="fragment">$ ./synth -l -v
</pre><p>To test DeJong's first function in two dimensions: </p><pre class="fragment">$ ./synth dejong 2
</pre><p>To test DeJong's first function in six dimensions: </p><pre class="fragment">$ ./synth dejong 6
</pre><p>To test 1000 iterations of the Random search strategy: </p><pre class="fragment">$ ./synth -i1000 dejong 6 STRATEGY=random.so
</pre><p>To perturb the function by at most 8, and compensate by using the minimum of 5 tests per point: </p><pre class="fragment">$ ./synth -p8.0 dejong 6 LAYERS=agg.so \
          AGG_FUNC=min AGG_TIMES=5
</pre><p>To run as a client of tuna: </p><pre class="fragment">$ tuna -r=x1,-64,64,1e-6 -r=x2,-64,64,1e-6 -r=x3,-64,64,1e-6 \
       -r=x4,-64,64,1e-6 -r=x5,-64,64,1e-6 -r=x6,-64,64,1e-6 \
       ./synth -v --tuna=w -- dejong 6</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
